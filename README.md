# üõçÔ∏è Product Catalog Cache System

–¶–µ–π –ø—Ä–æ–µ–∫—Ç ‚Äî RESTful –≤–µ–±-—Å–µ—Ä–≤—ñ—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —á–∏—Ç–∞–Ω–Ω—è.  
–í—ñ–Ω –ø—ñ–¥—Ç—Ä–∏–º—É—î CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—É—á–∞—Å–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —ñ –∑—Ä—É—á–Ω–æ—Å—Ç—ñ —Ä–æ–∑—Ä–æ–±–∫–∏.

---

## üöÄ Features


- Full CRUD support for products
- Caching 
- - ‚úÖ Single product retrieval
- - ‚úÖ Category-based product lists
 - - ‚úÖ Cache eviction on update/delete
- - ‚úÖ Cache entries expire after 10 minutes
- H2 in-memory database with sample data
- Basic validation and exception handling
- Swagger/OpenAPI documentation
- API Rate Limiting –Ω–∞ –æ—Å–Ω–æ–≤—ñ Resilience4j (20 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)

---


## üõ†Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

| Layer      | Technology                           |
|------------|--------------------------------------|
| Language   | Java 21                              |
| Framework  | Spring Boot 3.2.5                    |
| Caching    | Spring Cache and Caffeine(in-memory) |
| Database   | H2 (in-memory)                       |
| Migration  | Flyway                               |
| Build Tool | Maven                                |
| Testing    | JUnit 5                              |
| Docs       | Swagger / OpenAPI                    |
| Monitoring | Prometheus & Grafana                 |


---


## üì° API Endpoints


| Method | Endpoint                               | Description                  |
| ------ | -------------------------------------- | ---------------------------- |
| GET    | `/api/v1/products`                     | Get all products (paginated) |
| GET    | `/api/v1/products/{id}`                | Get product by ID            |
| GET    | `/api/v1/products/category/{category}` | Get products by category     |
| POST   | `/api/v1/products`                     | Create a new product         |
| PUT    | `/api/v1/products/{id}`                | Update existing product      |
| DELETE | `/api/v1/products/{id}`                | Delete product by ID         |


---


## üß† Caching Strategy
- Spring Cache with in-memory Caffeine


- @Cacheable: applied to product retrieval and category search


- @CacheEvict: on update/delete to remove stale data


- TTL: Entries expire after 10 minutes


## üõ†Ô∏è Setup Instructions


### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–¥—É –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
git clone https://github.com/rel1c-hub/ProductCatalogueCacheSystem.git
cd ProductCatalogueCacheSystem
```
### 2.1 –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ Docker —ñ Docker Compose –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ.

```bash
docker compose up --build
```
–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏: –¥–æ–¥–∞—Ç–æ–∫, H2, Loki, Grafana, Prometheus, Tempo, Alloy —Ç–æ—â–æ.

### 2.2 –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker
–ü–æ—Ç—Ä—ñ–±–Ω—ñ JDK 21+ —Ç–∞ Maven:

```bash
mvn clean install
mvn spring-boot:run
```
### 3. –î–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
Grafana (–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫ —ñ –ª–æ–≥—ñ–≤):
- http://localhost:3000/?orgId=1&from=now-6h&to=now&timezone=browser
- (pas:admin/log:admin)

Prometheus (–º–µ—Ç—Ä–∏–∫–∏):
- http://localhost:9090

Swagger UI (API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è):
- http://localhost:8080/swagger-ui.html
### 4. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Postman
–î–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Postman. –£ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —É —Ñ–∞–π–ª—ñ postman_collection.json –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∫–æ–ª–µ–∫—Ü—ñ—è —ñ–∑ –æ—Å–Ω–æ–≤–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏:

- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- –î–µ—Ç–∞–ª—ñ –ø—Ä–æ–¥—É–∫—Ç—É
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é

### –©–æ–± —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏:

- –í—ñ–¥–∫—Ä–∏–π—Ç–µ Postman
- –û–±–µ—Ä—ñ—Ç—å Import ‚Üí File
- –û–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª postman_collection.json
### üîí Rate Limiting
API –æ–±–º–µ–∂–µ–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Resilience4j:

20 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É

–ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É –ø–æ–≤–µ—Ä—Ç–∞—î 429 TOO MANY REQUESTS –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º

–û–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∏–º @ExceptionHandler
### üîê Basic Auth

API –∑–∞—Ö–∏—â–µ–Ω–æ –±–∞–∑–æ–≤–æ—é –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é:

–Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: admin, –ø–∞—Ä–æ–ª—å: password

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ application.properties
### üìä Cache metrics (hit/miss)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Spring Actuator + Micrometer

–ú–µ—Ç—Ä–∏–∫–∏ –∫–µ—à—É (cache.gets, cache.misses, cache.puts)

–î–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞ /actuator/prometheus, –∑–±–∏—Ä–∞—é—Ç—å—Å—è Prometheus

–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Grafana Dashboard
Testing
–£ Features —î JUnit 5, –∞–ª–µ –≤ README –Ω–µ –æ–ø–∏—Å–∞–Ω–æ, —è–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏:

### üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∑–∞–ø—É—Å—Ç—ñ—Ç—å:
````bash 
mvn test  
````
#### –¢–µ—Å—Ç–∏ –æ—Ö–æ–ø–ª—é—é—Ç—å:

- CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó

- –û–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫

- –ü–µ—Ä–µ–≤—ñ—Ä–∫—É –∫–µ—à—É

## üß≠ Architecture Diagram

![Architecture Diagram](docs/mermaid_graph.svg)

## –ü—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏
–†–æ–∑—Ä–æ–±–∫—É –ø—Ä–æ—î–∫—Ç—É —Ä–æ–∑–ø–æ—á–∞—Ç–æ –∑ –±–∞–∑–æ–≤–æ–≥–æ CRUD –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏. –û—Å–Ω–æ–≤–Ω—ñ REST-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (GET, POST, PUT, DELETE) –±—É–ª–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —à–≤–∏–¥–∫–æ, –∑–∞–≤–¥—è–∫–∏ —á—ñ—Ç–∫–æ–º—É —Ä–æ–∑—É–º—ñ–Ω–Ω—é –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Å—Ç–µ–∫—É Spring Boot.

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É —Ñ–æ–∫—É—Å –±—É–ª–æ –∑–º—ñ—â–µ–Ω–æ –Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é —á–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –∫–µ—à—É–≤–∞–Ω–Ω—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Spring Cache —Ç–∞ Caffeine. –¶–µ —Å—Ç–∞–ª–æ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–æ—é –∫–µ—à—É, —è–∫—É –≤–∏—Ä—ñ—à–µ–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞–Ω–æ—Ç–∞—Ü—ñ–π @Cacheable —Ç–∞ @CacheEvict.
### üß© –í–∏—Ä—ñ—à–µ–Ω—ñ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–∫–ª–∏–∫–∏

| –í–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è                                                                                                     | –†—ñ—à–µ–Ω–Ω—è                                                                                                                                                       |
|------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ‚ùå **Self-invocation –≤ –∫–µ—à–æ–≤–∞–Ω–∏—Ö –º–µ—Ç–æ–¥–∞—Ö** ‚Äî –∫–µ—à –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–≤ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É –∑ —ñ–Ω—à–æ–≥–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–µ—Ä–≤—ñ—Å—É | üîÑ –°—Ç–≤–æ—Ä–µ–Ω–æ –ø—Ä–æ–∫—Å—ñ-–æ–±–≥–æ—Ä—Ç–∫—É —á–µ—Ä–µ–∑ `ApplicationContext` –¥–ª—è –≤–∏–∫–ª–∏–∫—É –∫–µ—à–æ–≤–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –∑–∑–æ–≤–Ω—ñ                                                                   | 
| ‚ùå **Swagger –≤–∏–º–∞–≥–∞–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é** –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è Spring Security                                                | üîê –î–æ–¥–∞–Ω–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è –¥–æ–∑–≤–æ–ª—É –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ Swagger UI —Ç–∞ `/v3/api-docs/**`                                                                      |
| ‚ùå **Logbook –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏**                                                                          | ‚úÖ –ó–∞–º—ñ–Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –≤–µ—Ä—Å—ñ—ó `logbook-core`, `logbook-json`, `logbook-spring-boot-starter`, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ñ—ñ–ª—å—Ç—Ä–∞ –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π |
| ‚ùå **–ú–µ—Ç—Ä–∏–∫–∏ –∫–µ—à—É –Ω–µ –∑—á–∏—Ç—É–≤–∞–ª–∏—Å—å**                                                                                | ‚úÖ –£–≤—ñ–º–∫–Ω–µ–Ω–æ `recordStats` —É caffeine, —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ Spring Boot Actuator —Ç–∞ Micrometer                                                                         |
| ‚ùå **Prometheus/Grafana/Loki —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**                                                                         | ‚öôÔ∏è –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫–ª–∞–¥–Ω–∏–π `docker-compose` —Å—Ç–µ–∫, –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ `alloy` —è–∫ –∞–≥–µ–Ω—Ç –¥–ª—è –∑–±–æ—Ä—É –ª–æ–≥—ñ–≤, —Ä–æ–∑–≤‚Äô—è–∑–∞–Ω–æ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –ø–æ—Ä—Ç—ñ–≤ —Ç–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π   |

